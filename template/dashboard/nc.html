
<script>
window.onload = function() {
let fetched = document.querySelectorAll('#data')
var dataPoints = [];

var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	theme: "dark2",
	title: {
		text: ""
	},
	axisY: {
		title: "",
		titleFontSize: 24,
		includeZero: true
	},
	data: [{
		type: "column",
		yValueFormatString: "#,### Units",
		dataPoints: dataPoints
	}]
});

function addData(data) {
	// fetched.forEach((e) => {
	// 	console.log(e);
	// // 	dataPoints.push({
	// // 		x: e.classList,
	// // 		y: e.value
	// // 		})
	// // });
	console.log(data);
	for (var i = 0; i < data.length; i++) {
		dataPoints.push({
			x: new Date(fetched[i].className),
			y: fetched[i].value
		});
	}
		
		
	
	chart.render();

}

$.getJSON("https://canvasjs.com/data/gallery/javascript/daily-sales-data.json", addData);

}
</script>
</head>
<body>
<div id="chartContainer" style="height: 300px; width: 100%;"></div>
{% for i in d2 %}
<input type="hidden" value="{{i.amount}}" name="" class="{{i.date}}" id="data">
{% endfor %}
<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
